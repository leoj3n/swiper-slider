<!doctype html>

<html>

  <head>
    
    <meta charset="UTF-8">

    <meta name="viewport" content="width=device-width, minimum-scale=1.0, initial-scale=1.0, user-scalable=yes">

    <title>swiper-slider</title>

    <script src="../../webcomponentsjs/webcomponents.min.js"></script>

    <script src="../../web-component-tester/browser.js"></script>

    <script src="../../polymer-gestures/test/js/fake.js"></script>

    <link rel="import" href="../swiper-slider.html">

  </head>

  <body>

    <swiper-slider next prev>
      <slide>NO. ONE</slide>
      <slide>ITEM TWO</slide>
      <slide background="http://lorempixel.com/800/600">THE THIRD</slide>
    </swiper-slider>

    <script>

      var fake = new Fake();

      suite( '<swiper-slider>', function() {

        var slideEls, swiperEl = document.querySelector('swiper-slider');

        suiteSetup(function() {
          slideEls = document.querySelectorAll('swiper-slider /deep/ .swiper-slide');
        });

        test( 'copies slides', function() {
          assert.equal( 3, slideEls.length );
        });

        test( 'applies background', function() {
          assert.equal(
            slideEls.item(2).style.backgroundImage, 
            'url(http://lorempixel.com/800/600)'
          );
        });

        test.skip( 'next slide on tap', function() {
          var nextBtn = document.querySelector('swiper-slider /deep/ .swiper-button-next');
          fake.downOnNode( nextBtn, function() {
            debugger; // Is it failng because it's a promise?
            var active = document.querySelector('swiper-slider /deep/ .swiper-slide-active');
            assert.equal( active.innerHTML, slideEls.item(1).innerHTML );
            fake.upOnNode(nextBtn);
          });
        });

      });

    </script>

  </body>

</html>

